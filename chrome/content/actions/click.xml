<?xml version="1.0"?>
<bindings xmlns="http://www.mozilla.org/xbl">
<binding id="click">
<content xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
  <xul:label class="desc" value="Click on" />
  <xul:menulist>
    <xul:menupopup anonid="click-type">
      <xul:menuitem label="Left" value="left" selected="true" />
      <xul:menuitem label="Middle" value="middle" />
      <xul:menuitem label="Right" value="right" />
      <xul:menuitem label="Double-click (left)" value="double" />
    </xul:menupopup>
  </xul:menulist>
  <xul:box class="node-selection" />
</content>
<implementation>
<constructor>
  this.node = document.getAnonymousElementByAttribute(this, "class", "node-selection");
  this.type = document.getAnonymousElementByAttribute(this, "anonid", "click-type");
</constructor>

<method name="restore">
<parameter name="action" />
<body><![CDATA[
  this.node.restore(action.node);
  if (action.type) {
    for(var i=0; i<this.type.childNodes.length; i++) {
      var item=this.type.childNodes[i];
      if (item.value==action.type) {
        this.type.parentNode.selectedItem=item;
        break;
      }
    }
  }
]]></body>
</method>

<method name="getActionObject">
<body><![CDATA[
  return {
    type : this.type.parentNode.selectedItem.value,
    node : this.node.getActionObject()
  };
]]></body>
</method>

<method name="executed">
<parameter name="success" />
<parameter name="result" />
<body><![CDATA[
  
]]></body>
</method>

</implementation>
</binding>
</bindings>
