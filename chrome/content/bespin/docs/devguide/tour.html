<!DOCTYPE html>
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8">

	<title>Bespin Developer's Guide</title>

	<link rel="stylesheet" type="text/css" href="../css/reset.css">
	<link rel="stylesheet" type="text/css" href="../css/stylesheet.css" media="screen,projection">
	<link rel="stylesheet" type="text/css" href="../css/colorful.css">
</head>
<body>

<!-- MAIN CONTAINER -->
<div id="main-container">

<!-- MENU -->
<ul id="menu">
	<li><a href="../index.html" title="Home">Home</a></li>
	<li><a href="../pluginguide/index.html" title="Plugin Guide">Creating Plugins</a></li>
	<li><a href="../embedding/index.html" title="Embedding Bespin in your app">Embedding</a></li>
	<li class="current"><a href="../devguide/index.html" title="Developer's Guide">Developing Bespin</a></li>
</ul>
<!-- / MENU -->

<h1 id="web-title">Bespin Developer's Guide</h1>
<h2 id="web-subtitle">Code Tour</h2>

<!-- INDEX PAGE -->

<!-- MAIN COLUMN -->
<div id="maincol">
<h1>Taking It From The Top</h1>
<p>At the highest level, there are two separate projects that make up the whole of the Bespin codebase:</p>
<ul>
<li>bespinclient - The JavaScript code that makes up the Bespin user interface. This is considered to be the "main" repository.</li>
<li>bespinserver - This is currently the Python server. Bespin expects a certain server API and any server that adheres to that API could be made to work with Bespin.</li>
</ul>
<p>Most people hacking on Bespin will never need to do anything inside of the bespinserver project.</p>
<h1>Inside bespinclient</h1>
<p>In a fresh bespinclient checkout, there are four top-level directories of note:</p>
<ul>
<li>docs - the documentation source files, of which this tour is a part.</li>
<li>frameworks - the project source code.</li>
<li>apps - the location of the applications (in SproutCore terminology) that
  are built on the infrastructure in frameworks.</li>
<li>src - this directory is from the initial Reboot work and will go away
  once everything has migrated to the frameworks directory.</li>
</ul>
<p>When things are fully set up, there are also some other directories of interest:</p>
<ul>
<li>bin - this is the Python virtualenv bin directory, containing various scripts used to manage the project and start things up.</li>
<li>abbot - the SproutCore build system</li>
</ul>
<p>There are a couple of directories that are not interesting:</p>
<ul>
<li>include - part of virtualenv, not important</li>
<li>lib - also part of the virtualenv</li>
</ul>
<h1>Frameworks</h1>
<ul>
<li>bespin - the minimal set of code required to create a functioning editor environment</li>
</ul>
<h1>Inside bespin</h1>
<p>If you look in the frameworks/bespin directory, you will see the JavaScript code for the
editor, and a <code>Buildfile</code>. The <code>Buildfile</code> provides instructions to SproutCore's Abbot build 
system.</p>
<p>There are four categories of code in bespin:</p>
<ol>
<li>bespin:* - infrastructure code, such as <code>bespin/plugins</code>, which is required for the editor to work</li>
<li>bespin:util - utility code that is not necessarily Bespin-specific but is also required for the editor</li>
<li>bespin:editor - this is where all of the code that is specific to the Bespin text editor lives</li>
<li>bespin:tests - unit test suites</li>
</ol>
<p><code>bespin:embed</code> notably provides the useBespin function, which is how the embedded editor gets dropped into pages.</p>
<p><code>bespin:editor/controller</code> is the controller in the <a href="http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller">"model/view/controller"</a> sense. It provides the main API for managing the text editor control and for connecting the data with the view.</p>
<p><code>bespin:editor/views/editor.js</code> provides the visible editor component. It is responsible for drawing on the canvas and for managing events that come in.</p>
</div>
<!-- / MAIN COLUMN -->

<!-- SIDEBAR -->
<div id="sidebar">






<h2 class="compact">Contents</h2>
<ul class="compact">
<li><a href="index.html">Getting Started</a></li>
<li><a href="tour.html">A Tour of the Code</a></li>
<li><a href="devguide/testing.html">Testing</a></li>
</ul>



</div>
<!-- / SIDEBAR -->

<!-- / MAIN CONTAINER -->
</div>

<!-- FOOTER -->
<div id="footer">
	<!-- COLUMN ONE -->
	<div>
	<h2 class="compact">Useful Links</h2>
	<ul class="compact">
		<li><a href="http://labs.mozilla.com/bespin/">Bespin project home page</a></li>
		<li><a href="https://wiki.mozilla.org/Labs/Bespin">Wiki</a></li>
		<li><a href="https://wiki.mozilla.org/Labs/Bespin/UserGuide">User's Guide</a></li>
	</ul>
	</div>
	<!-- / COLUMN ONE -->

	<!-- COLUMN TWO -->
	<div>
	<h2 class="compact">Developer Resources</h2>
	<ul class="compact">
	  <li><a href="http://hg.mozilla.org/labs/bespinclient/">Main Code Repository</a></li>
	  <li><a href="http://hg.mozilla.org/labs/bespinserver/">Python server repository</a></li>
		<li><a href="http://groups.google.com/group/bespin-core/">bespin-core mailing list for developers</a></li>
		<li><a href="http://groups.google.com/group/bespin-commits/">bespin-commits mailing list for repository commit messages</a></li>
		<li><a href="https://bugzilla.mozilla.org/buglist.cgi?product=bespin">Bug List</a></li>
	</ul>
	</div>
	<!-- / COLUMN TWO -->

	<!-- COLUMN THREE -->
	<div>
	<h2 class="compact">Get Help</h2>
	<ul class="compact">
		<li>The <a href="http://groups.google.com/group/bespin/">Bespin mailing list</a></li>
		<li>Via IRC: <a href="irc://irc.mozilla.org/bespin">#bespin on irc.mozilla.org</a></li>
	</ul>

	<h2 class="compact">Documentation Template</h2>
	<ul class="compact">
		<li>Adapted from a design by <a href="http://www.mgrabovsky.is-game.com/">Matěj Grabovský</a></li>
	</ul>
	</div>
	<!-- / COLUMN THREE -->
</div>
<!-- / FOOTER -->

</body>
</html>